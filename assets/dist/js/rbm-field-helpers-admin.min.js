!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t,i){n(this,e),this.$field=t,this.$wrapper=t.closest(".fieldhelpers-field"),this.type=i,this.name=this.$wrapper.attr("data-fieldhelpers-name"),this.instance=this.$wrapper.attr("data-fieldhelpers-instance"),this.getRepeater(),this.getOptions(),this.repeater&&this.repeaterSupport(),void 0===RBM_FieldHelpers[this.instance].fieldObjects&&(RBM_FieldHelpers[this.instance].fieldObjects={}),void 0===RBM_FieldHelpers[this.instance].fieldObjects[this.type]&&(RBM_FieldHelpers[this.instance].fieldObjects[this.type]={}),RBM_FieldHelpers[this.instance].fieldObjects[this.type][this.name]=this}return r(e,[{key:"initField",value:function(){}},{key:"getOptions",value:function(){if(this.options={},void 0!==RBM_FieldHelpers[this.instance])if(this.repeater){if(void 0===RBM_FieldHelpers[this.instance].repeaterFields[this.repeater])return void console.error("Field Helpers Error: Data for repeater "+this.type+" sub-fields cannot be found.");if(void 0===RBM_FieldHelpers[this.instance].repeaterFields[this.repeater][this.name])return void console.error("Field Helpers Error: Cannot find field options for repeater "+this.type+" sub-field with name: "+this.name+".");this.options=RBM_FieldHelpers[this.instance].repeaterFields[this.repeater][this.name]}else{if(void 0===RBM_FieldHelpers[this.instance][this.type])return void console.error("Field Helpers Error: Data for "+this.type+" fields cannot be found.");if(void 0===RBM_FieldHelpers[this.instance][this.type][this.name])return void console.error("Field Helpers Error: Cannot find field options for "+this.type+" field with name: "+this.name+".");this.options=RBM_FieldHelpers[this.instance][this.type][this.name]}else console.error("Field Helpers Error: Data for "+this.instance+" instance cannot be found.")}},{key:"getRepeater",value:function(){this.$field.closest("[data-fieldhelpers-field-repeater]").length&&(this.$repeater=this.$field.parent().closest("[data-fieldhelpers-field-repeater]"),this.repeater=this.$repeater.closest(".fieldhelpers-field-repeater").attr("data-fieldhelpers-name"))}},{key:"repeaterSupport",value:function(){var e=this;this.$repeater.on("repeater-init",function(){e.repeaterOnInit()}),this.$repeater.on("repeater-before-add-item",function(){e.repeaterBeforeAddItem()}),this.$repeater.on("repeater-add-item",function(){e.repeaterOnAddItem()}),this.$field.closest("[data-repeater-item]").on("repeater-before-delete-item",function(){e.repeaterBeforeDeleteSelf()}),this.$repeater.on("repeater-before-delete-item",function(){e.repeaterBeforeDeleteItem()}),this.$repeater.on("repeater-delete-item",function(){e.repeaterOnDeleteItem()}),this.$repeater.find(".fieldhelpers-field-repeater-list").on("list-update",function(){e.repeaterOnSort()}),this.repeaterSetID(),this.fieldCleanup()}},{key:"repeaterOnInit",value:function(){}},{key:"repeaterBeforeAddItem",value:function(){}},{key:"repeaterOnAddItem",value:function(){}},{key:"repeaterBeforeDeleteSelf",value:function(){}},{key:"repeaterBeforeDeleteItem",value:function(){}},{key:"repeaterOnDeleteItem",value:function(){}},{key:"repeaterOnSort",value:function(){}},{key:"repeaterSetID",value:function(){var e=this.$field.closest("[data-repeater-item]").index(),t=this.options.id+"_"+e;this.$field.attr("id",t)}},{key:"fieldCleanup",value:function(){}},{key:"setDefault",value:function(){this.options.default&&this.$field.val(this.options.default).change()}}]),e}();t.default=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=n(i(8)),a=n(i(9)),o=n(i(10)),l=n(i(11)),u=n(i(12)),c=n(i(13)),d=n(i(14)),f=n(i(15)),p=n(i(16)),h=n(i(17)),m=n(i(18)),_=n(i(19)),v=n(i(20)),y=n(i(21));t.default=function e(t){r(this,e),this.fields={checkbox:new _.default(t),toggle:new y.default(t),radio:new v.default(t),select:new h.default(t),textarea:new m.default(t),number:new s.default(t),colorpicker:new a.default(t),datepicker:new o.default(t),timepicker:new l.default(t),datetimepicker:new u.default(t),table:new c.default(t),media:new d.default(t),list:new f.default(t),repeater:new p.default(t)}}},function(e,t,i){e.exports=i(3)},function(e,t,i){"use strict";i(4),i(5);var n=function(e){return e&&e.__esModule?e:{default:e}}(i(1));jQuery(function(){new n.default(jQuery(document))}),window.rbmFHinitField=function(e){new n.default(e)},window.rbmFHgetFieldObject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===t&&(t=jQuery('.fieldhelpers-field[data-fieldhelpers-name="'+e+'"]').data("fieldhelpers-instance")),null===i){var n=jQuery('.fieldhelpers-field[data-fieldhelpers-name="'+e+'"][data-fieldhelpers-instance="'+t+'"]').first().attr("class"),r=/fieldhelpers-field-(\S*)/.exec(n);null!==r&&r[1].length>0&&(i=r[1])}try{return RBM_FieldHelpers[t].fieldObjects[i][e]}catch(n){return(null===t||null===i||RBM_FieldHelpers[t].fieldObjects[i][e].length<0)&&console.error('Field Helpers Error: Field Object for "'+e+'" Not Found'),!1}}},function(e,t,i){"use strict";!function(e){var t=function(e){return e},i=function(t){return e.isArray(t)},n=function(e){return!i(e)&&e instanceof Object},r=function(t,i){return e.inArray(i,t)},s=function(e,t){return-1!==r(e,t)},a=function(e,t){for(var i in e)e.hasOwnProperty(i)&&t(e[i],i,e)},o=function(e){return e[e.length-1]},l=function(e){return Array.prototype.slice.call(e)},u=function(){var e={};return a(l(arguments),function(t){a(t,function(t,i){e[i]=t})}),e},c=function(e,t){var i=[];return a(e,function(e,n,r){i.push(t(e,n,r))}),i},d=function(e,t,i){var n={};return a(e,function(e,r,s){r=i?i(r,e):r,n[r]=t(e,r,s)}),n},f=function(e,t,n){return i(e)?c(e,t):d(e,t,n)},p=function(e,t){return f(e,function(e){return e[t]})},h=function(e,t){var n;return i(e)?(n=[],a(e,function(e,i,r){t(e,i,r)&&n.push(e)})):(n={},a(e,function(e,i,r){t(e,i,r)&&(n[i]=e)})),n},m=function(e,t,i){return f(e,function(e,n){return e[t].apply(e,i||[])})},_=function(e){var t={};return(e=e||{}).publish=function(e,i){a(t[e],function(e){e(i)})},e.subscribe=function(e,i){t[e]=t[e]||[],t[e].push(i)},e.unsubscribe=function(e){a(t,function(t){var i=r(t,e);-1!==i&&t.splice(i,1)})},e};!function(e){var t=function(e,t){var i=_(),n=e.$;return i.getType=function(){throw'implement me (return type. "text", "radio", etc.)'},i.$=function(e){return e?n.find(e):n},i.disable=function(){i.$().prop("disabled",!0),i.publish("isEnabled",!1)},i.enable=function(){i.$().prop("disabled",!1),i.publish("isEnabled",!0)},t.equalTo=function(e,t){return e===t},t.publishChange=function(){var e;return function(n,r){var s=i.get();t.equalTo(s,e)||i.publish("change",{e:n,domElement:r}),e=s}}(),i},l=function(e,i){var n=t(e,i);return n.get=function(){return n.$().val()},n.set=function(e){n.$().val(e)},n.clear=function(){n.set("")},i.buildSetter=function(e){return function(t){e.call(n,t)}},n},u=function(e,t){e=i(e)?e:[e],t=i(t)?t:[t];var n=!0;return e.length!==t.length?n=!1:a(e,function(e){s(t,e)||(n=!1)}),n},c=function(e){var t={},i=l(e,t);return i.getType=function(){return"button"},i.$().on("change",function(e){t.publishChange(e,this)}),i},d=function(t){var n={},r=l(t,n);return r.getType=function(){return"checkbox"},r.get=function(){var t=[];return r.$().filter(":checked").each(function(){t.push(e(this).val())}),t},r.set=function(t){t=i(t)?t:[t],r.$().each(function(){e(this).prop("checked",!1)}),a(t,function(e){r.$().filter('[value="'+e+'"]').prop("checked",!0)})},n.equalTo=u,r.$().change(function(e){n.publishChange(e,this)}),r},f=function(e){var t=w(e,{});return t.getType=function(){return"email"},t},p=function(i){var n={},r=t(i,n);return r.getType=function(){return"file"},r.get=function(){return o(r.$().val().split("\\"))},r.clear=function(){this.$().each(function(){e(this).wrap("<form>").closest("form").get(0).reset(),e(this).unwrap()})},r.$().change(function(e){n.publishChange(e,this)}),r},h=function(e){var t={},i=l(e,t);return i.getType=function(){return"hidden"},i.$().change(function(e){t.publishChange(e,this)}),i},v=function(i){var n={},r=t(i,n);return r.getType=function(){return"file[multiple]"},r.get=function(){var e,t=r.$().get(0).files||[],i=[];for(e=0;e<(t.length||0);e+=1)i.push(t[e].name);return i},r.clear=function(){this.$().each(function(){e(this).wrap("<form>").closest("form").get(0).reset(),e(this).unwrap()})},r.$().change(function(e){n.publishChange(e,this)}),r},y=function(e){var t={},n=l(e,t);return n.getType=function(){return"select[multiple]"},n.get=function(){return n.$().val()||[]},n.set=function(e){n.$().val(""===e?[]:i(e)?e:[e])},t.equalTo=u,n.$().change(function(e){t.publishChange(e,this)}),n},g=function(e){var t=w(e,{});return t.getType=function(){return"password"},t},b=function(t){var i={},n=l(t,i);return n.getType=function(){return"radio"},n.get=function(){return n.$().filter(":checked").val()||null},n.set=function(t){t?n.$().filter('[value="'+t+'"]').prop("checked",!0):n.$().each(function(){e(this).prop("checked",!1)})},n.$().change(function(e){i.publishChange(e,this)}),n},k=function(e){var t={},i=l(e,t);return i.getType=function(){return"range"},i.$().change(function(e){t.publishChange(e,this)}),i},$=function(e){var t={},i=l(e,t);return i.getType=function(){return"select"},i.$().change(function(e){t.publishChange(e,this)}),i},w=function(e){var t={},i=l(e,t);return i.getType=function(){return"text"},i.$().on("change keyup keydown",function(e){t.publishChange(e,this)}),i},M=function(e){var t={},i=l(e,t);return i.getType=function(){return"textarea"},i.$().on("change keyup keydown",function(e){t.publishChange(e,this)}),i},O=function(e){var t=w(e,{});return t.getType=function(){return"url"},t},T=function(t){var i={},s=t.$,o=t.constructorOverride||{button:c,text:w,url:O,email:f,password:g,range:k,textarea:M,select:$,"select[multiple]":y,radio:b,checkbox:d,file:p,"file[multiple]":v,hidden:h},l=function(t,r){(n(r)?r:s.find(r)).each(function(){var n=e(this).attr("name");i[n]=o[t]({$:e(this)})})},u=function(t,l){var u=[],c=n(l)?l:s.find(l);n(l)?i[c.attr("name")]=o[t]({$:c}):(c.each(function(){-1===r(u,e(this).attr("name"))&&u.push(e(this).attr("name"))}),a(u,function(e){i[e]=o[t]({$:s.find('input[name="'+e+'"]')})}))};return s.is("input, select, textarea")?s.is('input[type="button"], button, input[type="submit"]')?l("button",s):s.is("textarea")?l("textarea",s):s.is('input[type="text"]')||s.is("input")&&!s.attr("type")?l("text",s):s.is('input[type="password"]')?l("password",s):s.is('input[type="email"]')?l("email",s):s.is('input[type="url"]')?l("url",s):s.is('input[type="range"]')?l("range",s):s.is("select")?s.is("[multiple]")?l("select[multiple]",s):l("select",s):s.is('input[type="file"]')?s.is("[multiple]")?l("file[multiple]",s):l("file",s):s.is('input[type="hidden"]')?l("hidden",s):s.is('input[type="radio"]')?u("radio",s):s.is('input[type="checkbox"]')?u("checkbox",s):l("text",s):(l("button",'input[type="button"], button, input[type="submit"]'),l("text",'input[type="text"]'),l("password",'input[type="password"]'),l("email",'input[type="email"]'),l("url",'input[type="url"]'),l("range",'input[type="range"]'),l("textarea","textarea"),l("select","select:not([multiple])"),l("select[multiple]","select[multiple]"),l("file",'input[type="file"]:not([multiple])'),l("file[multiple]",'input[type="file"][multiple]'),l("hidden",'input[type="hidden"]'),u("radio",'input[type="radio"]'),u("checkbox",'input[type="checkbox"]')),i};e.fn.inputVal=function(t){var i=e(this),n=T({$:i});return i.is("input, textarea, select")?void 0===t?n[i.attr("name")].get():(n[i.attr("name")].set(t),i):void 0===t?m(n,"get"):(a(t,function(e,t){n[t].set(e)}),i)},e.fn.inputOnChange=function(t){var i=e(this),n=T({$:i});return a(n,function(e){e.subscribe("change",function(e){t.call(e.domElement,e.e)})}),i},e.fn.inputDisable=function(){var t=e(this);return m(T({$:t}),"disable"),t},e.fn.inputEnable=function(){var t=e(this);return m(T({$:t}),"enable"),t},e.fn.inputClear=function(){var t=e(this);return m(T({$:t}),"clear"),t}}(jQuery),e.fn.repeaterVal=function(){return function e(t){if(1===t.length&&(0===t[0].key.length||1===t[0].key.length&&!t[0].key[0]))return t[0].val;a(t,function(e){e.head=e.key.shift()});var i,n=function(){var e={};return a(t,function(t){e[t.head]||(e[t.head]=[]),e[t.head].push(t)}),e}();return/^[0-9]+$/.test(t[0].head)?(i=[],a(n,function(t){i.push(e(t))})):(i={},a(n,function(t,n){i[n]=e(t)})),i}(function(e){var t=[];return a(e,function(e,i){var n=[];"undefined"!==i&&(n.push(i.match(/^[^\[]*/)[0]),n=n.concat(f(i.match(/\[[^\]]*\]/g),function(e){return e.replace(/[\[\]]/g,"")})),t.push({val:e,key:n}))}),t}(e(this).inputVal()))},e.fn.repeater=function(i){i=i||{};var n;return e(this).each(function(){var r=e(this),s=i.show||function(){e(this).show()},l=i.hide||function(e){e()},c=r.find("[data-repeater-list]").first(),d=function(t,i){return t.filter(function(){return!i||0===e(this).closest(p(i,"selector").join(",")).length})},m=function(){return d(c.find("[data-repeater-item]"),i.repeaters)},_=c.find("[data-repeater-item]").first().clone().hide(),v=d(d(e(this).find("[data-repeater-item]"),i.repeaters).first().find("[data-repeater-delete]"),i.repeaters);i.isFirstItemUndeletable&&v&&v.remove();var y=function(){var e=c.data("repeater-list");return i.$parent?i.$parent.data("item-name")+"["+e+"]":e},g=function(t){i.repeaters&&t.each(function(){var t=e(this);a(i.repeaters,function(e){t.find(e.selector).repeater(u(e,{$parent:t}))})})},b=function(e,t,i){e&&a(e,function(e){i.call(t.find(e.selector)[0],e)})},k=function t(i,n,r){i.each(function(i){var s=e(this);s.data("item-name",n+"["+i+"]"),d(s.find("[name]"),r).each(function(){var a=e(this),l=a.attr("name").match(/\[[^\]]+\]/g),u=l?o(l).replace(/\[|\]/g,""):a.attr("name"),c=n+"["+i+"]["+u+"]"+(a.is(":checkbox")||a.attr("multiple")?"[]":"");a.attr("name",c),b(r,s,function(r){var s=e(this);t(d(s.find("[data-repeater-item]"),r.repeaters||[]),n+"["+i+"]["+s.find("[data-repeater-list]").first().data("repeater-list")+"]",r.repeaters)})})}),c.find("input[name][checked]").removeAttr("checked").prop("checked",!0)};k(m(),y(),i.repeaters),g(m()),i.initEmpty&&m().remove(),i.ready&&i.ready(function(){k(m(),y(),i.repeaters)});var $=function(){var n=function n(r,s,o){if(s||i.defaultValues){var l={};d(r.find("[name]"),o).each(function(){var t=e(this).attr("name").match(/\[([^\]]*)(\]|\]\[\])$/)[1];l[t]=e(this).attr("name")}),r.inputVal(f(h(s||i.defaultValues,function(e,t){return l[t]}),t,function(e){return l[e]}))}b(o,r,function(t){var i=e(this);d(i.find("[data-repeater-item]"),t.repeaters).each(function(){var r=i.find("[data-repeater-list]").data("repeater-list");if(s&&s[r]){var o=e(this).clone();i.find("[data-repeater-item]").remove(),a(s[r],function(e){var r=o.clone();n(r,e,t.repeaters||[]),i.find("[data-repeater-list]").append(r)})}else n(e(this),t.defaultValues,t.repeaters||[])})})};return function(t,r){c.append(t),k(m(),y(),i.repeaters),t.find("[name]").each(function(){e(this).inputClear()}),n(t,r||i.defaultValues,i.repeaters)}}(),w=function(e){var t=_.clone();$(t,e),i.repeaters&&g(t),s.call(t.get(0))};n=function(e){m().remove(),a(e,w)},d(r.find("[data-repeater-create]"),i.repeaters).click(function(){w()}),c.on("click","[data-repeater-delete]",function(){var t=e(this).closest("[data-repeater-item]").get(0);l.call(t,function(){e(t).remove(),k(m(),y(),i.repeaters)})})}),this.setList=n,this}}(jQuery)},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(6),__webpack_require__(7)],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=e)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.6.3"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function _newInst($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(e){inlineSettings[attrName]=attrValue}}overrides={beforeShow:function(e,t){if($.isFunction(tp_inst._defaults.evnts.beforeShow))return tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst)},onChangeMonthYear:function(e,t,i){$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,i,tp_inst)},onClose:function(e,t){!0===tp_inst.timeDefined&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||this._defaults[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()}),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&void 0===$.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!==_typeof(timezoneList[0]))for(;tzi<tzl;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField),!0===tp_inst._defaults.altRedirectFocus&&tp_inst.$altInput.css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),0!==tp_inst._defaults.minDate&&0!==tp_inst._defaults.minDateTime||(tp_inst._defaults.minDate=new Date),0!==tp_inst._defaults.maxDate&&0!==tp_inst._defaults.maxDateTime||(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(e){var t=$.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var n=parseDateTimeInternal(i,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!n.timeObj)return!1;$.extend(this,n.timeObj)}catch(t){return $.timepicker.log("Error parsing the date/time string: "+t+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var r=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return!!r&&($.extend(this,r),!0)},_afterInject:function(){var e=this.inst.settings;$.isFunction(e.afterInject)&&e.afterInject.call(this)},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,i=this,n="",r="",s=null,a={},o={},l=null,u=0,c=0;if(0===e.find("div.ui-timepicker-div").length&&t.showTimepicker){var d=" ui_tpicker_unit_hide",f='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+(t.oneLine&&"select"===t.controlType?" ui-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(t.showTime?"":d)+'">'+t.timeText+'</dt><dd class="ui_tpicker_time '+(t.showTime?"":d)+'"><input class="ui_tpicker_time_input" '+(t.timeInput?"":"disabled")+"/></dd>";for(u=0,c=this.units.length;u<c;u++){if(n=this.units[u],r=n.substr(0,1).toUpperCase()+n.substr(1),s=null!==t["show"+r]?t["show"+r]:this.support[n],a[n]=parseInt(t[n+"Max"]-(t[n+"Max"]-t[n+"Min"])%t["step"+r],10),o[n]=0,f+='<dt class="ui_tpicker_'+n+"_label"+(s?"":d)+'">'+t[n+"Text"]+'</dt><dd class="ui_tpicker_'+n+(s?"":d)+'"><div class="ui_tpicker_'+n+"_slider"+(s?"":d)+'"></div>',s&&t[n+"Grid"]>0){if(f+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===n)for(var p=t[n+"Min"];p<=a[n];p+=parseInt(t[n+"Grid"],10)){o[n]++;var h=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:p},t);f+='<td data-for="'+n+'">'+h+"</td>"}else for(var m=t[n+"Min"];m<=a[n];m+=parseInt(t[n+"Grid"],10))o[n]++,f+='<td data-for="'+n+'">'+(m<10?"0":"")+m+"</td>";f+="</tr></table></div>"}f+="</dd>"}var _=null!==t.showTimezone?t.showTimezone:this.support.timezone;f+='<dt class="ui_tpicker_timezone_label'+(_?"":d)+'">'+t.timezoneText+"</dt>",f+='<dd class="ui_tpicker_timezone'+(_?"":d)+'"></dd>';var v=$(f+="</dl></div>");for(!0===t.timeOnly&&(v.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),u=0,c=i.units.length;u<c;u++)s=null!==t["show"+(r=(n=i.units[u]).substr(0,1).toUpperCase()+n.substr(1))]?t["show"+r]:this.support[n],i[n+"_slider"]=i.control.create(i,v.find(".ui_tpicker_"+n+"_slider"),n,i[n],t[n+"Min"],a[n],t["step"+r]),s&&t[n+"Grid"]>0&&(l=100*o[n]*t[n+"Grid"]/(a[n]-t[n+"Min"]),v.find(".ui_tpicker_"+n+" table").css({width:l+"%",marginLeft:t.isRTL?"0":l/(-2*o[n])+"%",marginRight:t.isRTL?l/(-2*o[n])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(e){var t=$(this),r=t.html(),s=parseInt(r.replace(/[^0-9]/g),10),a=r.replace(/[^apm]/gi),o=t.data("for");"hour"===o&&(-1!==a.indexOf("p")&&s<12?s+=12:-1!==a.indexOf("a")&&12===s&&(s=0)),i.control.value(i,i[o+"_slider"],n,s),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/o[n]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=v.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e,t){return $("<option />").val("object"===(void 0===e?"undefined":_typeof(e))?e.value:e).text("object"===(void 0===e?"undefined":_typeof(e))?e.label:e)})),void 0!==this.timezone&&null!==this.timezone&&""!==this.timezone?-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()===this.timezone?selectLocalTimezone(i):this.timezone_select.val(this.timezone):void 0!==this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.timezone):selectLocalTimezone(i),this.timezone_select.change(function(){i._onTimeChange(),i._onSelectHandler(),i._afterInject()});var y=e.find(".ui-datepicker-buttonpane");if(y.length?y.before(v):e.append(v),this.$timeObj=v.find(".ui_tpicker_time_input"),this.$timeObj.change(function(){var e=i.inst.settings.timeFormat,t=$.datepicker.parseTime(e,this.value),n=new Date;t?(n.setHours(t.hour),n.setMinutes(t.minute),n.setSeconds(t.second),$.datepicker._setTime(i.inst,n)):(this.value=i.formattedTime,this.blur())}),null!==this.inst){var g=this.timeDefined;this._onTimeChange(),this.timeDefined=g}if(this._defaults.addSliderAccess){var b=this._defaults.sliderAccessArgs,k=this._defaults.isRTL;b.isRTL=k,setTimeout(function(){if(0===v.find(".ui-slider-access").length){v.find(".ui-slider:visible").sliderAccess(b);var e=v.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&v.find("table:visible").each(function(){var t=$(this),i=t.outerWidth(),n=t.css(k?"marginRight":"marginLeft").toString().replace("%",""),r=i-e,s=n*r/i+"%",a={width:r,marginRight:0,marginLeft:0};a[k?"marginRight":"marginLeft"]=s,t.css(a)})}},10)}i._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,n=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&n){var r=$.datepicker._get(e,"minDateTime"),s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin,this.microsecMinOriginal=i.microsecMin),e.settings.timeOnly||s.getTime()===n.getTime()?(this._defaults.hourMin=r.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=r.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=r.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=r.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=r.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&n){var a=$.datepicker._get(e,"maxDateTime"),o=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0);null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax,this.microsecMaxOriginal=i.microsecMax),e.settings.timeOnly||o.getTime()===n.getTime()?(this._defaults.hourMax=a.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=a.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=a.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=a.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=a.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(null!==e.settings.minTime){var l=new Date("01/01/1970 "+e.settings.minTime);this.hour<l.getHours()?(this.hour=this._defaults.hourMin=l.getHours(),this.minute=this._defaults.minuteMin=l.getMinutes()):this.hour===l.getHours()&&this.minute<l.getMinutes()?this.minute=this._defaults.minuteMin=l.getMinutes():this._defaults.hourMin<l.getHours()?(this._defaults.hourMin=l.getHours(),this._defaults.minuteMin=l.getMinutes()):this._defaults.hourMin===l.getHours()===this.hour&&this._defaults.minuteMin<l.getMinutes()?this._defaults.minuteMin=l.getMinutes():this._defaults.minuteMin=0}if(null!==e.settings.maxTime){var u=new Date("01/01/1970 "+e.settings.maxTime);this.hour>u.getHours()?(this.hour=this._defaults.hourMax=u.getHours(),this.minute=this._defaults.minuteMax=u.getMinutes()):this.hour===u.getHours()&&this.minute>u.getMinutes()?this.minute=this._defaults.minuteMax=u.getMinutes():this._defaults.hourMax>u.getHours()?(this._defaults.hourMax=u.getHours(),this._defaults.minuteMax=u.getMinutes()):this._defaults.hourMax===u.getHours()===this.hour&&this._defaults.minuteMax>u.getMinutes()?this._defaults.minuteMax=u.getMinutes():this._defaults.minuteMax=59}if(void 0!==t&&!0===t){var c=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),d=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),f=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),p=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),h=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:c,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:d,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:f,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:p,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:h,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var e=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),t=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),i=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),n=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),r=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),s=!!this.timezone_select&&this.timezone_select.val(),a=this._defaults,o=a.pickerTimeFormat||a.timeFormat,l=a.pickerTimeSuffix||a.timeSuffix;"object"===(void 0===e?"undefined":_typeof(e))&&(e=!1),"object"===(void 0===t?"undefined":_typeof(t))&&(t=!1),"object"===(void 0===i?"undefined":_typeof(i))&&(i=!1),"object"===(void 0===n?"undefined":_typeof(n))&&(n=!1),"object"===(void 0===r?"undefined":_typeof(r))&&(r=!1),"object"===(void 0===s?"undefined":_typeof(s))&&(s=!1),!1!==e&&(e=parseInt(e,10)),!1!==t&&(t=parseInt(t,10)),!1!==i&&(i=parseInt(i,10)),!1!==n&&(n=parseInt(n,10)),!1!==r&&(r=parseInt(r,10)),!1!==s&&(s=s.toString());var u=a[e<12?"amNames":"pmNames"][0],c=e!==parseInt(this.hour,10)||t!==parseInt(this.minute,10)||i!==parseInt(this.second,10)||n!==parseInt(this.millisec,10)||r!==parseInt(this.microsec,10)||this.ampm.length>0&&e<12!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&s!==this.timezone.toString();if(c&&(!1!==e&&(this.hour=e),!1!==t&&(this.minute=t),!1!==i&&(this.second=i),!1!==n&&(this.millisec=n),!1!==r&&(this.microsec=r),!1!==s&&(this.timezone=s),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=u),this.formattedTime=$.datepicker.formatTime(a.timeFormat,this,a),this.$timeObj&&(o===a.timeFormat?this.$timeObj.val(this.formattedTime+l):this.$timeObj.val($.datepicker.formatTime(o,this,a)+l),this.$timeObj[0].setSelectionRange)){var d=this.$timeObj[0].selectionStart,f=this.$timeObj[0].selectionEnd;this.$timeObj[0].setSelectionRange(d,f)}this.timeDefined=!0,c&&this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){var t=(e=this.inst||e).currentYear>0?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),i=$.datepicker._daylightSavingAdjust(t),n=$.datepicker._get(e,"dateFormat"),r=$.datepicker._getFormatConfig(e),s=null!==i&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(n,null===i?new Date:i,r);var a=this.formattedDate;if(""===e.lastVal&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),!0===this._defaults.timeOnly&&!1===this._defaults.timeOnlyShowDate?a=this.formattedTime:(!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||s)||!0===this._defaults.timeOnly&&!0===this._defaults.timeOnlyShowDate)&&(a+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=a,this._defaults.showTimepicker)if(this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(a);var o="",l=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,u=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(o=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,r):this.formattedDate)&&(o+=l),null!==this._defaults.altTimeFormat?o+=$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+u:o+=this.formattedTime+u,this.$altInput.val(o)}else this.$input.val(a);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!==e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(e){$.timepicker.log(e)}}},_controls:{slider:{create:function(e,t,i,n,r,s,a){var o=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:o?-1*n:n,min:o?-1*s:r,max:o?-1*r:s,step:a,slide:function(t,n){e.control.value(e,$(this),i,o?-1*n.value:n.value),e._onTimeChange()},stop:function(t,i){e._onSelectHandler()}})},options:function(e,t,i,n,r){if(e._defaults.isRTL){if("string"==typeof n)return"min"===n||"max"===n?void 0!==r?t.slider(n,-1*r):Math.abs(t.slider(n)):t.slider(n);var s=n.min,a=n.max;return n.min=n.max=null,void 0!==s&&(n.max=-1*s),void 0!==a&&(n.min=-1*a),t.slider(n)}return"string"==typeof n&&void 0!==r?t.slider(n,r):t.slider(n)},value:function(e,t,i,n){return e._defaults.isRTL?void 0!==n?t.slider("value",-1*n):Math.abs(t.slider("value")):void 0!==n?t.slider("value",n):t.slider("value")}},select:{create:function(e,t,i,n,r,s,a){for(var o='<select class="ui-timepicker-select ui-state-default ui-corner-all" data-unit="'+i+'" data-min="'+r+'" data-max="'+s+'" data-step="'+a+'">',l=e._defaults.pickerTimeFormat||e._defaults.timeFormat,u=r;u<=s;u+=a)o+='<option value="'+u+'"'+(u===n?" selected":"")+">",o+="hour"===i?$.datepicker.formatTime($.trim(l.replace(/[^ht ]/gi,"")),{hour:u},e._defaults):"millisec"===i||"microsec"===i||u>=10?u:"0"+u.toString(),o+="</option>";return o+="</select>",t.children("select").remove(),$(o).appendTo(t).change(function(t){e._onTimeChange(),e._onSelectHandler(),e._afterInject()}),t},options:function(e,t,i,n,r){var s={},a=t.children("select");if("string"==typeof n){if(void 0===r)return a.data(n);s[n]=r}else s=n;return e.control.create(e,t,a.data("unit"),a.val(),s.min>=0?s.min:a.data("min"),s.max||a.data("max"),s.step||a.data("step"))},value:function(e,t,i,n){var r=t.children("select");return void 0!==n?r.val(n):r.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return"object"===(void 0===e?"undefined":_typeof(e))&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(e){var t=arguments;return"string"==typeof(e=e||{})?"getDate"===e||"option"===e&&2===t.length&&"string"==typeof t[1]?$.fn.datepicker.apply($(this[0]),t):this.each(function(){var e=$(this);e.datepicker.apply(e,t)}):this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)})}}),$.datepicker.parseDateTime=function(e,t,i,n,r){var s=parseDateTimeInternal(e,t,i,n,r);if(s.timeObj){var a=s.timeObj;s.date.setHours(a.hour,a.minute,a.second,a.millisec),s.date.setMicroseconds(a.microsec)}return s.date},$.datepicker.parseTime=function(e,t,i){var n=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),r=(e.replace(/\'.*?\'/g,"").indexOf("Z"),function(e,t,i){var n,r=function(e,t){var i=[];return e&&$.merge(i,e),t&&$.merge(i,t),"("+(i=$.map(i,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")})).join("|")+")?"},s="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){var t=e.length;switch(e.charAt(0).toLowerCase()){case"h":case"m":case"s":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"l":case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return r(i.amNames,i.pmNames);default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+i.timeSuffix+"$",a=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t)for(var n=0;n<t.length;n++)-1===i[t[n].toString().charAt(0)]&&(i[t[n].toString().charAt(0)]=n+1);return i}(e),o="",l={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!(n=t.match(new RegExp(s,"i")))&&(-1!==a.t&&(void 0===n[a.t]||0===n[a.t].length?(o="",l.ampm=""):(o=-1!==$.inArray(n[a.t].toUpperCase(),$.map(i.amNames,function(e,t){return e.toUpperCase()}))?"AM":"PM",l.ampm=i["AM"===o?"amNames":"pmNames"][0])),-1!==a.h&&("AM"===o&&"12"===n[a.h]?l.hour=0:"PM"===o&&"12"!==n[a.h]?l.hour=parseInt(n[a.h],10)+12:l.hour=Number(n[a.h])),-1!==a.m&&(l.minute=Number(n[a.m])),-1!==a.s&&(l.second=Number(n[a.s])),-1!==a.l&&(l.millisec=Number(n[a.l])),-1!==a.c&&(l.microsec=Number(n[a.c])),-1!==a.z&&void 0!==n[a.z]&&(l.timezone=$.timepicker.timezoneOffsetNumber(n[a.z])),l)});return"function"==typeof n.parse?n.parse(e,t,n):"loose"===n.parse?function(e,t,i){try{var n=new Date("2012-01-01 "+t);if(isNaN(n.getTime())&&(n=new Date("2012-01-01T"+t),isNaN(n.getTime())&&(n=new Date("01/01/2012 "+t),isNaN(n.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisec:n.getMilliseconds(),microsec:n.getMicroseconds(),timezone:-1*n.getTimezoneOffset()}}catch(n){try{return r(e,t,i)}catch(i){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return!1}(e,t,n):r(e,t,n)},$.datepicker.formatTime=function(e,t,i){i=i||{},i=$.extend({},$.timepicker._defaults,i),t=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t);var n=e,r=i.amNames[0],s=parseInt(t.hour,10);return s>11&&(r=i.pmNames[0]),n=n.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){switch(e){case"HH":return("0"+s).slice(-2);case"H":return s;case"hh":return("0"+convert24to12(s)).slice(-2);case"h":return convert24to12(s);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!0);case"T":return r.charAt(0).toUpperCase();case"TT":return r.toUpperCase();case"t":return r.charAt(0).toLowerCase();case"tt":return r.toLowerCase();default:return e.replace(/'/g,"")}})},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var i,n=this._getInst($(e)[0]),r=this._get(n,"timepicker");r&&n.settings.showTimepicker?(r._limitMinMaxDateTime(n,!0),i=n.inline,n.inline=n.stay_open=!0,this._base_selectDate(e,t),n.inline=i,n.stay_open=!1,this._notifyChange(n),this._updateDatepicker(n)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==t||"boolean"==typeof e.stay_open&&!1!==e.stay_open)){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");i&&i._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&$.datepicker._get(t,"constrainInput")){var n=i.support.ampm,r=null!==i._defaults.showTimezone?i._defaults.showTimezone:i.support.timezone,s=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),a=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,n?"APM":"").replace(/Tt/g,n?"AaPpMm":"").replace(/tT/g,n?"AaPpMm":"").replace(/T/g,n?"AP":"").replace(/tt/g,n?"apm":"").replace(/t/g,n?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(r?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+s,o=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||o<" "||!s||a.indexOf(o)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var i=t._defaults.altField;if(i){t._defaults.altFormat||t._defaults.dateFormat;var n=this._getDate(e),r=$.datepicker._getFormatConfig(e),s="",a=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,o=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,l=null!==t._defaults.altTimeFormat?t._defaults.altTimeFormat:t._defaults.timeFormat;s+=$.datepicker.formatTime(l,t,t._defaults)+o,t._defaults.timeOnly||t._defaults.altFieldTimeOnly||null===n||(s=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,n,r)+a+s:t.formattedDate+a+s),$(i).val(e.input.val()?s:"")}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!==t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(e){$.timepicker.log(e)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]);this._base_gotoToday(e);var i=this._get(t,"timepicker");if(i){var n=$.timepicker.timezoneOffsetNumber(i.timezone),r=new Date;r.setMinutes(r.getMinutes()+r.getTimezoneOffset()+parseInt(n,10)),this._setTime(t,r),this._setDate(t,r),i._onSelectHandler()}},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!1,i._defaults.showTimepicker=!1,i._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!0,i._defaults.showTimepicker=!0,i._addTimePicker(t),i._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var n=i._defaults;i.hour=t?t.getHours():n.hour,i.minute=t?t.getMinutes():n.minute,i.second=t?t.getSeconds():n.second,i.millisec=t?t.getMilliseconds():n.millisec,i.microsec=t?t.getMicroseconds():n.microsec,i._limitMinMaxDateTime(e,!0),i._onTimeChange(),i._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,i){var n=this._getInst(e);if(n){var r=this._get(n,"timepicker");if(r){this._setDateFromField(n);var s;t&&("string"==typeof t?(r._parseTime(t,i),(s=new Date).setHours(r.hour,r.minute,r.second,r.millisec),s.setMicroseconds(r.microsec)):(s=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()),"Invalid Date"===s.toString()&&(s=void 0),this._setTime(n,s))}}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e),n=t;if(i){"string"==typeof t&&((n=new Date(t)).getTime()||(this._base_setDateDatepicker.apply(this,arguments),n=$(e).datepicker("getDate")));var r,s=this._get(i,"timepicker");n instanceof Date?(r=new Date(n.getTime())).setMicroseconds(n.getMicroseconds()):r=n,s&&r&&(s.support.timezone||null!==s._defaults.timezone||(s.timezone=-1*r.getTimezoneOffset()),n=$.timepicker.timezoneAdjust(n,$.timepicker.timezoneOffsetString(-n.getTimezoneOffset()),s.timezone),r=$.timepicker.timezoneAdjust(r,$.timepicker.timezoneOffsetString(-r.getTimezoneOffset()),s.timezone)),this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,r,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var n=this._get(i,"timepicker");if(n){void 0===i.lastVal&&this._setDateFromField(i,t);var r=this._getDate(i),s=null;return s=n.$altInput&&n._defaults.altFieldTimeOnly?n.$input.val()+" "+n.$altInput.val():"INPUT"!==n.$input.get(0).tagName&&n.$altInput?n.$altInput.val():n.$input.val(),r&&n._parseTime(s,!i.settings.timeOnly)&&(r.setHours(n.hour,n.minute,n.second,n.millisec),r.setMicroseconds(n.microsec),null!=n.timezone&&(n.support.timezone||null!==n._defaults.timezone||(n.timezone=-1*r.getTimezoneOffset()),r=$.timepicker.timezoneAdjust(r,n.timezone,$.timepicker.timezoneOffsetString(-r.getTimezoneOffset())))),r}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,i){var n;try{n=this._base_parseDate(e,t,i)}catch(r){if(!(r.indexOf(":")>=0))throw r;n=this._base_parseDate(e,t.substring(0,t.length-(r.length-r.indexOf(":")-2)),i),$.timepicker.log("Error parsing the date string: "+r+"\ndate string = "+t+"\ndate format = "+e)}return n},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,i,n){var r=this._get(e,"timepicker");return r?(r._updateDateTime(e),r.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,i){var n,r=this._getInst(e);if(!r)return null;var s=this._get(r,"timepicker");if(s){var a,o,l,u,c=null,d=null,f=null,p=s._defaults.evnts,h={};if("string"==typeof t){if("minDate"===t||"minDateTime"===t)c=i;else if("maxDate"===t||"maxDateTime"===t)d=i;else if("onSelect"===t)f=i;else if(p.hasOwnProperty(t)){if(void 0===i)return p[t];h[t]=i,n={}}}else if("object"===(void 0===t?"undefined":_typeof(t))){t.minDate?c=t.minDate:t.minDateTime?c=t.minDateTime:t.maxDate?d=t.maxDate:t.maxDateTime&&(d=t.maxDateTime);for(a in p)p.hasOwnProperty(a)&&t[a]&&(h[a]=t[a])}for(a in h)h.hasOwnProperty(a)&&(p[a]=h[a],n||(n=$.extend({},t)),delete n[a]);if(n&&isEmptyObject(n))return;if(c?(c=0===c?new Date:new Date(c),s._defaults.minDate=c,s._defaults.minDateTime=c):d?(d=0===d?new Date:new Date(d),s._defaults.maxDate=d,s._defaults.maxDateTime=d):f&&(s._defaults.onSelect=f),c||d)return u=$(e),l=u.datetimepicker("getDate"),o=this._base_optionDatepicker.call($.datepicker,e,n||t,i),u.datetimepicker("setDate",l),o}return void 0===i?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,n||t,i)};var isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},extendRemove=function(e,t){$.extend(e,t);for(var i in t)null!==t[i]&&void 0!==t[i]||(e[i]=t[i]);return e},detectSupport=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),i=function(e,t){return-1!==e.indexOf(t)};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i(t,"t")&&i(e,"h"),iso8601:i(e,"Z")}},convert24to12=function(e){return 0===(e%=12)&&(e=12),String(e)},computeEffectiveSetting=function(e,t){return e&&e[t]?e[t]:$.timepicker._defaults[t]},splitDateTime=function(e,t){var i=computeEffectiveSetting(t,"separator"),n=computeEffectiveSetting(t,"timeFormat").split(i).length,r=e.split(i),s=r.length;return s>1?{dateString:r.splice(0,s-n).join(i),timeString:r.splice(0,n).join(i)}:{dateString:e,timeString:""}},parseDateTimeInternal=function(e,t,i,n,r){var s,a,o;if(a=splitDateTime(i,r),s=$.datepicker._base_parseDate(e,a.dateString,n),""===a.timeString)return{date:s};if(!(o=$.datepicker.parseTime(t,a.timeString,r)))throw"Wrong time format";return{date:s,timeObj:o}},selectLocalTimezone=function(e,t){if(e&&e.timezone_select){var i=t||new Date;e.timezone_select.val(-i.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||e<-720)return e;var i=e,n=i%60,r=(i-n)/60,s=t?":":"",a=(i>=0?"+":"-")+("0"+Math.abs(r)).slice(-2)+s+("0"+Math.abs(n)).slice(-2);return"+00:00"===a?"Z":a},$.timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(t)?("-"===t.substr(0,1)?-1:1)*(60*parseInt(t.substr(1,2),10)+parseInt(t.substr(3,2),10)):parseInt(e,10)},$.timepicker.timezoneAdjust=function(e,t,i){var n=$.timepicker.timezoneOffsetNumber(t),r=$.timepicker.timezoneOffsetNumber(i);return isNaN(r)||e.setMinutes(e.getMinutes()+-n- -r),e},$.timepicker.timeRange=function(e,t,i){return $.timepicker.handleRange("timepicker",e,t,i)},$.timepicker.datetimeRange=function(e,t,i){$.timepicker.handleRange("datetimepicker",e,t,i)},$.timepicker.dateRange=function(e,t,i){$.timepicker.handleRange("datepicker",e,t,i)},$.timepicker.handleRange=function(e,t,i,n){function r(r,s){var a=t[e]("getDate"),o=i[e]("getDate"),l=r[e]("getDate");if(null!==a){var u=new Date(a.getTime()),c=new Date(a.getTime());u.setMilliseconds(u.getMilliseconds()+n.minInterval),c.setMilliseconds(c.getMilliseconds()+n.maxInterval),n.minInterval>0&&u>o?i[e]("setDate",u):n.maxInterval>0&&c<o?i[e]("setDate",c):a>o&&s[e]("setDate",l)}}function s(t,i,r){if(t.val()){var s=t[e].call(t,"getDate");null!==s&&n.minInterval>0&&("minDate"===r&&s.setMilliseconds(s.getMilliseconds()+n.minInterval),"maxDate"===r&&s.setMilliseconds(s.getMilliseconds()-n.minInterval)),s.getTime&&i[e].call(i,"option",r,s)}}n=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},n);var a=!1;return"timepicker"===e&&(a=!0,e="datetimepicker"),$.fn[e].call(t,$.extend({timeOnly:a,onClose:function(e,t){r($(this),i)},onSelect:function(e){s($(this),i,"minDate")}},n,n.start)),$.fn[e].call(i,$.extend({timeOnly:a,onClose:function(e,i){r($(this),t)},onSelect:function(e){s($(this),t,"maxDate")}},n,n.end)),r(t,i),s(t,i,"minDate"),s(i,t,"maxDate"),$([t.get(0),i.get(0)])},$.timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}),$.timepicker.version="1.6.3"}})},function(e,t){e.exports=jQuery},function(e,t){e.exports=jQuery.ui},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"number"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){this.$ui={container:this.$field,input:this.$field.find(".fieldhelpers-field-input"),increase:this.$field.find("[data-number-increase]"),decrease:this.$field.find("[data-number-decrease]")},this.intervals={increase:{normal:parseFloat(this.options.increaseInterval),alt:parseFloat(this.options.altIncreaseInterval)},decrease:{normal:parseFloat(this.options.decreaseInterval),alt:parseFloat(this.options.altDecreaseInterval)}};var e=this.options.max,t=this.options.min;this.constraints={max:"none"!==e&&parseFloat(e),min:"none"!==t&&parseFloat(t)},this.shiftKeyUtility(),this.setupHandlers();var i=this.$ui.input.val();this.value=i?parseFloat(i):0,this.validateInput()}},{key:"shiftKeyUtility",value:function(){var e=this;this.shiftKeyDown=!1,jQuery(document).on("keydown",function(t){16===t.which&&(e.shiftKeyDown=!0)}),jQuery(document).on("keyup",function(t){16===t.which&&(e.shiftKeyDown=!1)})}},{key:"setupHandlers",value:function(){var e=this;this.$ui.increase.click(function(t){e.increaseNumber(t)}),this.$ui.decrease.click(function(t){e.decreaseNumber(t)}),this.$ui.input.change(function(t){e.inputExternalChange(t)})}},{key:"increaseNumber",value:function(){var e=this.shiftKeyDown?this.intervals.increase.alt:this.intervals.increase.normal,t=this.value+e;this.$ui.input.val(t),this.$ui.input.trigger("change")}},{key:"decreaseNumber",value:function(){var e=this.shiftKeyDown?this.intervals.decrease.alt:this.intervals.decrease.normal,t=this.value-e;this.$ui.input.val(t),this.$ui.input.trigger("change")}},{key:"inputExternalChange",value:function(){this.validateInput()}},{key:"constrainNumber",value:function(e){var t="unmodified";return!1!==this.constraints.max&&e>this.constraints.max?(t="max",e=this.constraints.max):!1!==this.constraints.min&&e<this.constraints.min&&(t="min",e=this.constraints.min),{status:t,number:e}}},{key:"validateInput",value:function(){var e=this.$ui.input.val(),t=e.match(/^-?[0-9]\d*(\.\d+)?$/);e=t&&parseFloat(t[0])||0;var i=this.constrainNumber(e);switch(i.status){case"max":this.toggleDecreaseDisabledUI(!0),this.toggleIncreaseDisabledUI(!1);break;case"min":this.toggleIncreaseDisabledUI(!0),this.toggleDecreaseDisabledUI(!1);break;default:this.toggleIncreaseDisabledUI(!0),this.toggleDecreaseDisabledUI(!0)}this.value=i.number,this.$ui.input.val(this.value),e!==this.value&&this.$ui.input.trigger("change")}},{key:"toggleIncreaseDisabledUI",value:function(e){this.$ui.increase.prop("disabled",!e)}},{key:"toggleDecreaseDisabledUI",value:function(e){this.$ui.decrease.prop("disabled",!e)}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-number]");r.length&&r.each(function(){i.initializeField(jQuery(this))})}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"colorpicker"));return i.initializeColorpicker(),i}return s(t,o.default),a(t,[{key:"initializeColorpicker",value:function(){this.$field.wpColorPicker(this.options.colorpickerOptions)}},{key:"fieldCleanup",value:function(){this.$wrapper.find("[data-fieldhelpers-field-colorpicker]").appendTo(this.$wrapper.find(".fieldhelpers-field-content")),this.$wrapper.find(".wp-picker-container").remove()}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-colorpicker]");if(r.length){if(!jQuery.isFunction(jQuery.fn.wpColorPicker))return void console.error('Field Helpers Error: Trying to initialize Color Picker field but "wp-color-picker" is not enqueued.');r.each(function(){i.initializeField(jQuery(this))})}}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"datepicker"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){var e=this;this.$hiddenField=this.$field.next('input[type="hidden"]');var t=["beforeShow","beforeShowDay","calculateWeek","onChangeMonthYear","onClose","onSelect"];jQuery.each(this.options.datepickerOptions,function(i,n){-1!==t.indexOf(i)&&!jQuery.isFunction(e.options.datepickerOptions[i])&&jQuery.isFunction(window[n])&&(e.options.datepickerOptions[i]=window[n])}),this.options.datepickerOptions.altField=this.$hiddenField,this.$field.datepicker(this.options.datepickerOptions)}},{key:"fieldCleanup",value:function(){this.$field.removeClass("hasDatepicker").removeAttr("id")}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-datepicker]");if(r.length){if(!jQuery.isFunction(jQuery.fn.datepicker))return void console.error('Field Helpers Error: Trying to initialize Date Picker field but "jquery-ui-datepicker" is not enqueued.');r.each(function(){i.initializeField(jQuery(this))})}}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"timepicker"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){var e=this;this.$hiddenField=this.$field.next('input[type="hidden"]');var t=["beforeShow","beforeShowDay","calculateWeek","onChangeMonthYear","onClose","onSelect"],i={};RBM_FieldHelpers["datepicker_args_"+name]&&(i=RBM_FieldHelpers["datepicker_args_"+name]),jQuery.each(this.options.timepickerOptions,function(i,n){-1!==t.indexOf(i)&&!jQuery.isFunction(e.options.timepickerOptions[i])&&jQuery.isFunction(window[n])&&(e.options.timepickerOptions[i]=window[n])}),i.altField=this.$hiddenField,this.$field.timepicker(this.options.timepickerOptions)}},{key:"fieldCleanup",value:function(){this.$field.removeClass("hasDatepicker").removeAttr("id")}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-timepicker]");if(r.length){if(!jQuery.isFunction(jQuery.fn.timepicker))return void console.error('Field Helpers Error: Trying to initialize Time Picker field but "jquery-ui-datetimepicker" is not enqueued.');r.each(function(){i.initializeField(jQuery(this))})}}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"datetimepicker"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){var e=this;this.$hiddenField=this.$field.next('input[type="hidden"]');var t=["beforeShow","beforeShowDay","calculateWeek","onChangeMonthYear","onClose","onSelect"];jQuery.each(this.options.datetimepickerOptions,function(i,n){-1!==t.indexOf(i)&&!jQuery.isFunction(e.options.datetimepickerOptions[i])&&jQuery.isFunction(window[n])&&(e.options.datetimepickerOptions[i]=window[n])}),this.options.datetimepickerOptions.altField=this.$hiddenField,this.$field.datetimepicker(this.options.datetimepickerOptions)}},{key:"fieldCleanup",value:function(){this.$field.removeClass("hasDatepicker").removeAttr("id")}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-datetimepicker]");if(r.length){if(!jQuery.isFunction(jQuery.fn.datetimepicker))return void console.error('Field Helpers Error: Trying to initialize Date Time Picker field but "rbm-fh-jquery-ui-datetimepicker" is not enqueued.');r.each(function(){i.initializeField(jQuery(this))})}}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"table"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){this.$ui={actions:this.$field.find(".fieldhelpers-field-table-actions"),loading:this.$field.find(".fieldhelpers-field-table-loading"),table:this.$field.find("table"),thead:this.$field.find("thead"),tbody:this.$field.find("tbody"),addRow:this.$field.find("[data-table-create-row]"),addColumn:this.$field.find("[data-table-create-column]")},this.l10n=RBM_FieldHelpers.l10n.field_table||{},this.name=this.$field.attr("data-table-name");var e=JSON.parse(this.$ui.table.attr("data-table-data"));this.data={},this.data.head=e.head||[],this.data.body=e.body||[],this.setupHandlers(),this.buildTable(),this.$ui.table.show(),this.$ui.actions.show(),this.$ui.loading.hide()}},{key:"setupHandlers",value:function(){var e=this,t=this;this.$ui.addRow.click(function(t){t.preventDefault(),e.addRow()}),this.$ui.addColumn.click(function(t){t.preventDefault(),e.addColumn()}),this.$ui.table.on("click","[data-delete-row]",function(e){var i=jQuery(this).closest("tr").index();t.deleteRow(i)}),this.$ui.table.on("click","[data-delete-column]",function(e){var i=jQuery(this).closest("td").index();t.deleteColumn(i)}),this.$ui.table.on("change",'input[type="text"]',function(t){e.updateTableData()})}},{key:"updateTableData",value:function(){var e=this,t=[],i=0;this.$ui.table.find("thead th").each(function(){var n=jQuery(this).find('input[name="'+e.name+"[head]["+i+']"]');if(!n.length)return console.error("Field Helpers Error: Table head data corrupted."),!1;t.push(n.val()),i++}),this.data.head=t;var n=[],r=0;this.$ui.table.find("tbody tr").each(function(){if(jQuery(this).hasClass("fieldhelpers-field-table-delete-columns"))return!0;var t=[],i=0;jQuery(this).find("td").each(function(){if(jQuery(this).hasClass("fieldhelpers-field-table-delete-row"))return!0;var n=jQuery(this).find('input[name="'+e.name+"[body]["+r+"]["+i+']"]');if(!n.length)return console.error("Field Helpers Error: Table body data corrupted."),!1;t.push(n.val()),i++}),n.push(t),r++}),this.data.body=n}},{key:"addRow",value:function(){if(this.data.head.length||this.data.head.push(""),this.data.body.length){for(var e=this.data.body[0].length,t=[],i=0;i<e;i++)t.push("");this.data.body.push(t)}else this.data.body.push([""]);this.buildTable()}},{key:"addColumn",value:function(){this.data.body.length?(this.data.head.push(""),this.data.body.map(function(e){e.push("")})):(this.data.head.push([""]),this.data.body.push([""])),this.buildTable()}},{key:"deleteRow",value:function(e){e--,1===this.data.body.length?(this.data.head=[],this.data.body=[]):this.data.body.splice(e,1),this.buildTable()}},{key:"deleteColumn",value:function(e){1===this.data.body[0].length?(this.data.head=[],this.data.body=[]):(this.data.head.splice(e,1),this.data.body.map(function(t){return t.splice(e,1)})),this.buildTable()}},{key:"buildTable",value:function(){var e=this;if(this.$ui.thead.html(""),this.$ui.tbody.html(""),this.data.head.length){var t=jQuery("<tr />");this.data.head.map(function(i,n){var r=jQuery("<th />");r.append('<input type="text" name="'+e.name+"[head]["+n+']" />'),r.find('input[type="text"]').val(i),t.append(r)}),this.$ui.thead.append(t)}if(this.data.body.length){for(var i=jQuery('<tr class="fieldhelpers-field-table-delete-columns"></tr>'),n=0;n<this.data.body[0].length;n++)i.append('<td><button type="button" data-delete-column aria-label="'+this.l10n.delete_column+'"><span class="dashicons dashicons-no" /></button></td>');this.$ui.tbody.append(i),this.data.body.map(function(t,i){var n=jQuery("<tr/>");t.map(function(t,r){var s=jQuery("<td/>");s.append('<input type="text" name="'+e.name+"[body]["+i+"]["+r+']" />'),s.find('input[type="text"]').val(t),n.append(s)}),n.append('<td class="fieldhelpers-field-table-delete-row"><button type="button" data-delete-row aria-label="'+e.l10n.delete_row+'"><span class="dashicons dashicons-no" /></button></td>'),e.$ui.tbody.append(n)})}}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-table]");r.length&&r.each(function(){i.initializeField(jQuery(this))})}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"media"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){this.$ui={input:this.$field.find("[data-media-input]"),addButton:this.$field.find("[data-add-media]"),imagePreview:this.$field.find("[data-image-preview]"),mediaPreview:this.$field.find("[data-media-preview]"),removeButton:this.$field.find("[data-remove-media]")},this.mediaFrame=wp.media.frames.meta_image_frame=wp.media({title:this.options.l10n.window_title}),this.placeholder=this.options.placeholder,this.type=this.options.type,this.imageProperties={previewSize:this.options.previewSize},this.setupHandlers()}},{key:"setupHandlers",value:function(){var e=this;this.$ui.addButton.click(function(t){t.preventDefault(),e.addMedia()}),this.$ui.removeButton.click(function(t){t.preventDefault(),e.removeMedia()}),this.mediaFrame.on("select",function(t){e.selectMedia()})}},{key:"addMedia",value:function(){this.mediaFrame.open()}},{key:"removeMedia",value:function(){switch(this.$ui.addButton.show(),this.$ui.removeButton.hide(),this.$ui.input.val(""),this.type){case"image":this.$ui.imagePreview.attr("src",this.placeholder||"");break;default:this.$ui.mediaPreview.html(this.placeholder||"&nbsp;")}}},{key:"selectMedia",value:function(){var e=this.mediaFrame.state().get("selection").first().toJSON();switch(this.$ui.input.val(e.id),this.$ui.addButton.hide(),this.$ui.removeButton.show(),this.type){case"image":var t=e.url;e.sizes[this.imageProperties.previewSize]&&(t=e.sizes[this.imageProperties.previewSize].url),this.$ui.imagePreview.attr("src",t);break;default:this.$ui.mediaPreview.html(e.url)}}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-media]");if(r.length){if(!wp.media)return void console.error("Field Helpers Error: Trying to initialize Media field but media is not enqueued.");r.each(function(){i.initializeField(jQuery(this))})}}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"list"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){this.$field.sortable(this.options)}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-list]");if(r.length){if(!jQuery.isFunction(jQuery.fn.sortable))return void console.error('Field Helpers Error: Trying to initialize List field but "jquery-ui-sortable" is not enqueued.');r.each(function(){i.initializeField(jQuery(this))})}}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=n(i(0)),u=n(i(1)),c=function(e){function t(e){r(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"repeater"));return i.initField(),i}return a(t,l.default),o(t,[{key:"initField",value:function(){var e=this;this.$repeaterList=this.$field.find(".fieldhelpers-field-repeater-list");var t=this;if(this.repeater=this.$field.repeater({show:function(){t.repeaterShow(jQuery(this))},hide:function(e){t.repeaterHide(jQuery(this),e)},ready:function(e){t.$repeaterList.on("sortupdate",e)},isFirstItemUndeletable:t.options.isFirstItemUndeletable}),!this.options.isFirstItemUndeletable&&this.options.empty&&this.$repeaterList.find(".fieldhelpers-field-repeater-row").remove(),this.options.collapsable&&this.initCollapsable(),this.options.sortable){if(!jQuery.isFunction(jQuery.fn.sortable))return void console.error('Field Helpers Error: Trying to initialize sortable Repeater field but "jquery-ui-sortable" is not enqueued.');this.initSortable()}setTimeout(function(){e.$field.trigger("repeater-init",[e.$field])},1)}},{key:"initCollapsable",value:function(){var e=this;this.$field.on("click touchend","[data-repeater-collapsable-handle]",function(){console.log("click"),e.toggleCollapse(jQuery(this).closest(".fieldhelpers-field-repeater-row"))})}},{key:"initSortable",value:function(){var e=this;this.$repeaterList.sortable({axis:"y",handle:".fieldhelpers-field-repeater-handle",forcePlaceholderSize:!0,placeholder:"fieldhelpers-sortable-placeholder",stop:function(t,i){e.$repeaterList.trigger("list-update",[e.$repeaterList])}})}},{key:"toggleCollapse",value:function(e){var t=e.find(".fieldhelpers-field-repeater-content").first();"opening"===(e.hasClass("opened")?"closing":"opening")?(t.stop().slideDown(),e.addClass("opened"),e.removeClass("closed")):(t.stop().slideUp(),e.addClass("closed"),e.removeClass("opened"))}},{key:"repeaterShow",value:function(e){this.$field.trigger("repeater-before-add-item",[e]),e.slideDown(),this.$repeaterList.hasClass("collapsable")&&(e.addClass("opened").removeClass("closed"),e.find(".fieldhelpers-field-repeater-header span.collapsable-title").html(e.find(".fieldhelpers-field-repeater-header span.collapsable-title").data("collapsable-title-default")),e.find(".collapse-icon").css({transform:"rotate(-180deg)"})),new u.default(e),this.$field.trigger("repeater-add-item",[e])}},{key:"repeaterHide",value:function(e,t){var i=this;confirm(this.options.l10n.confirm_delete_text)&&(this.$field.trigger("repeater-before-delete-item",[e]),e.slideUp(400,function(){t(),i.$field.trigger("repeater-delete-item",[e])}))}}]),t}(),d=function(){function e(t){r(this,e);var i=this;this.fields=[];var n=t.find("[data-fieldhelpers-field-repeater]");n.length&&n.each(function(){i.initializeField(jQuery(this))})}return o(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new c(e)})}}]),e}();t.default=d},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"select"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){if(!this.options.select2Disabled){if(!jQuery.isFunction(jQuery.fn.rbmfhselect2))return void console.error('Field Helpers Error: Trying to initialize Select field but "select2" is not enqueued.');this.setupSelect2Options(),this.$field.rbmfhselect2(this.options.select2Options)}}},{key:"setupL10n",value:function(){var e=this;Object.keys(this.options.select2Options.language).length>0&&Object.keys(this.options.select2Options.language).map(function(t){var i=e.options.select2Options.language[t];e.options.select2Options.language[t]=function(e){return i}})}},{key:"setupSelect2Options",value:function(){var e=this;this.setupL10n();var t=["escapeMarkup","initSelection","matcher","query","sorter","templateResult","templateSelection","tokenizer"];Object.keys(this.options.select2Options).map(function(i){if(-1!==t.indexOf(i)){var n=e.options.select2Options[i];"function"==typeof window[n]&&(e.options.select2Options[i]=window[n])}}),this.options.optGroups&&this.options.optGroupSelectionPrefix&&void 0===this.options.select2Options.templateSelection&&(this.options.select2Options.templateSelection=function(e){return jQuery(e.element).closest("optgroup").attr("label").trim()+": "+e.text})}},{key:"fieldCleanup",value:function(){if(!this.options.select2Disabled){var e=this.$field.next(".select2");e.length&&e.remove(),this.$field.removeClass("select2-hidden-accessible").removeAttr("tablindex aria-hidden")}}},{key:"setDefault",value:function(){this.$field.find("option:selected").prop("selected",!1),this.$field.trigger("change")}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-select]");r.length&&r.each(function(){i.initializeField(jQuery(this))})}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"textarea"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){if(this.options.wysiwyg){if(!wp.editor)return void console.error('Field Helpers Error: Trying to initialize a WYSIWYG Text Area field but "wp_editor" is not enqueued.');var e=jQuery.extend(this.getDefaultEditorSettings(),this.options.wysiwygOptions);console.log(e),wp.editor.initialize(this.$field.attr("id"),e)}}},{key:"fieldCleanup",value:function(){if(this.options.wysiwyg){var e=this.$field.attr("id");window.tinymce.get(e)?wp.editor.remove(e):(this.$field.appendTo(this.$wrapper.find(".fieldhelpers-field-content")),this.$wrapper.find(".wp-editor-wrap").remove())}}},{key:"repeaterBeforeDeleteSelf",value:function(){this.fieldCleanup()}},{key:"repeaterOnDeleteItem",value:function(){var e=this;this.fieldCleanup(),this.repeaterSetID(),setTimeout(function(){e.initField()},1)}},{key:"repeaterOnSort",value:function(){var e=this;this.fieldCleanup(),this.repeaterSetID(),setTimeout(function(){e.initField()},1)}},{key:"getDefaultEditorSettings",value:function(){return jQuery.isFunction(wp.editor.getDefaultSettings)?wp.editor.getDefaultSettings():{}}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-textarea]");r.length&&r.each(function(){i.initializeField(jQuery(this))})}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"checkbox"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){this.$ui={checkboxes:this.$field.find('input[type="checkbox"]')},this.setupHandlers(),this.$field.find("input:checked").change()}},{key:"setupHandlers",value:function(){var e=this;this.$ui.checkboxes.change(function(){e.handleChange(jQuery(this))})}},{key:"handleChange",value:function(e){e.prop("checked")?this.setActive(e.closest(".fieldhelpers-field-checkbox-row")):this.setInactive(e.closest(".fieldhelpers-field-checkbox-row"))}},{key:"setActive",value:function(e){e.addClass("fieldhelpers-field-checkbox-row-active")}},{key:"setInactive",value:function(e){e.removeClass("fieldhelpers-field-checkbox-row-active")}},{key:"repeaterSetID",value:function(){var e=this.options.id,t=this.$field.find(".fieldhelpers-field-checkbox-row"),i=this.$field.closest("[data-repeater-item]").index();t.each(function(){var t=jQuery(this).find('input[type="checkbox"]'),n=t.next("label"),r=jQuery(this).index(),s=e+"_"+i+"_"+r;t.attr("id",s),n.attr("for",s)})}},{key:"setDefault",value:function(){this.options.default&&this.$field.find('[value="'+this.options.default+'"]').prop("checked",!0).change()}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-checkbox]");r.length&&r.each(function(){i.initializeField(jQuery(this))})}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"radio"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){this.$ui={radios:this.$field.find('input[type="radio"]')},this.setupHandlers(),this.$field.find("input:checked").change()}},{key:"setupHandlers",value:function(){var e=this;this.$ui.radios.change(function(){e.handleChange(jQuery(this))})}},{key:"handleChange",value:function(e){this.setInactive(this.$ui.radios.closest(".fieldhelpers-field-radio-row")),this.setActive(e.closest(".fieldhelpers-field-radio-row"))}},{key:"setActive",value:function(e){e.addClass("fieldhelpers-field-radio-row-active")}},{key:"setInactive",value:function(e){e.removeClass("fieldhelpers-field-radio-row-active")}},{key:"repeaterSetID",value:function(){var e=this.options.id,t=this.$field.find(".fieldhelpers-field-radio-row"),i=this.$field.closest("[data-repeater-item]").index();t.each(function(){var t=jQuery(this).find('input[type="radio"]'),n=t.next("label"),r=jQuery(this).index(),s=e+"_"+i+"_"+r;t.attr("id",s),n.attr("for",s)})}},{key:"setDefault",value:function(){this.options.default&&this.$field.find('[value="'+this.options.default+'"]').prop("checked",!0).change()}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-radio]");r.length&&r.each(function(){i.initializeField(jQuery(this))})}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),l=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"toggle"));return i.initField(),i}return s(t,o.default),a(t,[{key:"initField",value:function(){var e=this;this.getUI(),setTimeout(function(){e.$field.trigger("change",[e.$ui.input.val()])},1),this.setupHandlers()}},{key:"getUI",value:function(){this.$ui={slider:this.$field.find(".fieldhelpers-field-toggle-slider"),input:this.$field.find('input[type="hidden"]')}}},{key:"setupHandlers",value:function(){var e=this;this.$ui.slider.click(function(){e.handleClick()})}},{key:"isChecked",value:function(){return this.$field.hasClass("checked")}},{key:"handleClick",value:function(){this.isChecked()?(this.$ui.input.val(this.options.uncheckedValue),this.$field.removeClass("checked")):(this.$ui.input.val(this.options.checkedValue),this.$field.addClass("checked")),this.$field.trigger("change",[this.$ui.input.val()])}}]),t}(),u=function(){function e(t){n(this,e);var i=this;this.fields=[];var r=t.find("[data-fieldhelpers-field-toggle]");r.length&&r.each(function(){i.initializeField(jQuery(this))})}return a(e,[{key:"initializeField",value:function(e){this.fields.push({$field:e,api:new l(e)})}}]),e}();t.default=u}]);